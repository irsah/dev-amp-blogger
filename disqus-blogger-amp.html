<!DOCTYPE html>
<html>
<head>
<meta charset=utf-8>
<style>
html, body {
	-webkit-font-smoothing: antialiased;
	-webkit-text-size-adjust: 100%;
	font-size : 100%;
	font-weight : 400;
	height : 100%;
	line-height: 1.428;
	font-family : sans-serif, Helvetica, Arial;
	color : #333;
	font-size: 16px;
}
	
a , a:link { 
	color: #06c;
	text-decoration: none;
}
#feeder { 
	overflow-y: auto;
	overflow-x: hidden;
}		
.feeds { 
  list-style : none;
  padding : 0;
  margin : 0;
  color: inherit;
}

.feed a {
  color: inherit;
}
.feed {
  display : block;
  padding : 15px 0;
  margin : 0;
  border-bottom: 1px solid #eeeeee;
}
.feed:after {
  content: " ";
  clear : both;
  display : table;
  height : 0;
  visibility : hidden;
}
.feed img {
  display : block;
  max-width : 100%;
  height : auto;
}
.feed-image {
  display : inline-block;
  float:left;
  width: 33%;
  margin: 0;
  border: 1px solid #eeeeee;
}
.feed-caption {
  display : table-cell;
  padding : 0 15px;
}
.feed h4 {
  display : block;
  margin: 0 0 10px;
  font-weight: 500;
}
.feed-date {
  opacity: .87;
  font-size: 80%;
  margin-bottom: 10px;
}
.feed-caption p {
  opacity: .87;
  font-size: 85%;
}
</style>    

</head>
<body>
<div id="fb-root"></div>
<div id="feeder"></div>
<div id="comments"></div>
<div id="fb-comments-wrapper" class="fb-comments"></div>
	
<script>
/*
# Title		:	Disqus Comments on Blogger AMP HTML Template
# Ver		:	0.9.0
# Date		:	Jan 2017
# Demo		:	https://blogr-amp.blogspot.com
# Author	:	irsah.com
#
# Usages for Disqus:
#
<amp-iframe 
	expr:src='&quot;{{PATH-TO-FILE}}?ampactions=disqus&amp;shortname={{DISQUS_SHORTNAME}}&amp;pagetype={{PAGE_TYPE}}&amp;fontfamily={{FONT_FAMILY}}&amp;fontlinkcolor={{LINK_COLOR}}&amp;canonicalurl=&quot; + data:blog.canonicalUrl + &quot;&amp;url=&quot; + data:blog.url + &quot;&amp;homepageurl=&quot; + data:blog.homepageUrl + &quot;&amp;canonicalhomepageurl=&quot; + data:blog.canonicalHomepageUrl' 
	frameborder='0' 
	height='400' 
	layout='responsive' 
	resizable='resizable' 
	sandbox='allow-forms allow-scripts allow-same-origin allow-modals allow-popups' 
	width='600'>
</amp-iframe>
#
# Instructions:
# Copy paste <amp-iframe/> markup above & place anywhere at Blogger HTML within <body>...</body> tag.
# [*] Replace {{PATH-TO-FILE}} to this file hosted on an HTTPS enabled host.
# [*] Replace {{DISQUS_SHORTNAME}} with Disqus shortname created/attached to blog.
# Replace {{ PAGETYPE }} with value " index " or " item " (without quotes). (default: item)
# Replace {{FONT_FAMILY}} with CSS font family. (default: sans-serif)
# Replace {{LINK_COLOR}} with HEX color code. (default: 000000)
#
# [*] required values
#
*/

var doc = document;
var win = window;

win.addEventListener('message', receiveMessage, false);
  
function receiveMessage( event ) {
	if ( event.data ) {
		var msg;
		try {
			msg = JSON.parse( event.data );
		} catch (err) {};
		if (!msg) return false;
		if ( msg.name === 'resize' ) {
			win.parent.postMessage({
				sentinel: 'amp',
				type: 'embed-size',
				height: msg.data.height
			}, '*');
		};
	};    
};

function $_GET( vars ) {
	var query = win.location.search.substring(1);
	var variable = query.split('&');
	for (var i = 0; i < variable.length; i++) {
		var values = variable[i].split('=');
		if ( values[0] === vars ) {
			return decodeURIComponent( values[1].replace(/\+/g, " ") );
	    	};
	};
	return (false);
};
  
function loadMessage(){
	var H3 = doc.createElement('h3');
	H3.innerHTML = 'No contents available.'
	doc.getElementById('comments').appendChild( H3 )
};

function loadJs( scripts, index, loaded ) {
	if ( scripts[index] ) {
		var files = doc.createElement('script');
		files.type = 'text/javascript';
		files.src = scripts[index];
		files.onload = function(){
			index = index + 1;
			loadJs( scripts, index, loaded )
		};
		doc.getElementsByTagName("head")[0].appendChild( files )
	 } else {
		loaded();
	 };
};
	
var pagetype = $_GET('pagetype') === false ? 'item' : $_GET('pagetype');
var disqus_shortname = $_GET('shortname');
var disqus_blogger_current_url = $_GET('canonicalurl');
if ( disqus_blogger_current_url === false ) {
  disqus_blogger_current_url = $_GET('url');
};	
var disqus_blogger_homepage_url = $_GET('homepageurl');
var disqus_blogger_canonical_homepage_url = $_GET('canonicalhomepageurl');

function loadStyles(){
	var fontfamily = $_GET('fontfamily') === false ? 'sans-serif': $_GET('fontfamily');
	var fontlinkcolor = $_GET('fontlinkcolor') === false ? '06c' : $_GET('fontlinkcolor');
	var fontcolor = $_GET('fontcolor') === false ? '333333' : $_GET('fontcolor') ;
	var CSS = 'body, #disqus_thread { font-family:' + fontfamily + '; color: #' + fontcolor + '; } a, #disqus_thread a { color: #' + fontlinkcolor + '}';
	var HEAD = doc.getElementsByTagName('head')[0];
	var TAG = doc.createElement('style');
	TAG.type = 'text/css';
	if ( TAG.styleSheet ){
		TAG.styleSheet.cssText = CSS;
	} else {
		TAG.appendChild( doc.createTextNode( CSS ) );
	};	
	HEAD.appendChild( TAG );
}
	
/* loads Disqus js */
function loadDisqus(){ 
	doc.getElementById('feeder').parentNode.removeChild( doc.getElementById('feeder') );
	loadStyles();
	var HEAD = doc.getElementsByTagName('head')[0];
	var js = doc.createElement('script');
	js.type = 'text/javascript';
	js.async = true;
	js.src = '//' + disqus_shortname + '.disqus.com/blogger_item.js';
	HEAD.appendChild( js );
};
	
function loadFeed(){
	if( $_GET('canonicalhomepageurl') === false ) return false;
	loadStyles();
	var FEED = $_GET('canonicalhomepageurl') + 'feeds/posts/default?alt=rss';
	var feed_default_image = $_GET('feeddefaultimage') === false ? '//4.bp.blogspot.com/-MowVHfLkoZU/VhgIRyPbIoI/AAAAAAAATtE/qHST4Q2YCCc/s1600/placeholder-image.jpg' : parseFloat( $_GET('feeddefaultimage')  );
	var months = $_GET('feedmonths');
	if( months !== false && months.indexOf(',') !== -1){
		months = months.split(',');
	};
	var feed_months = months === false ? ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'] : months;
	var feed_height = $_GET('feedcontainerheight') === false ? 600 : parseFloat( $_GET('feedcontainerheight') );

	$('#feeder').YahooRSS( FEED , {
		random : $_GET('feedrandom') === false ? true : false,
		ssl : $_GET('feedssl') === false ? true : false,
		limit : $_GET('feedlimit') === false ? 20 : parseFloat( $_GET('feedlimit')  ),
		results : $_GET('feedresults') === false ? 5 : parseFloat( $_GET('feedresults')  ),		
		image : $_GET('feedimage') === false ? true : parseFloat( $_GET('feedimage')  ),
		default_image : feed_default_image,
		labels : $_GET('feedlabels') === false ? false : true,
		date : $_GET('feeddate') === false ? 'mmddyy' : $_GET('feeddate'),
		datesep : $_GET('feeddatesep') === false ? ' ' : $_GET('feeddatesep'),
		months : feed_months,
		summary : $_GET('feedsummary') === false ? true : false,
		chars : $_GET('feedchars') === false ? 160 : parseFloat( $_GET('feedchars') ),
		target : $_GET('feedtarget') === false ? '_self' : $_GET('feedtarget'),
		showerror: $_GET('feederror') === false ? true : false,
		errormsg: $_GET('feederrormsg') === false ? '' : $_GET('feederrormsg')
	}, function () {
	    // optional callback function
		$('#feeder').height( feed_height )
	});
};

function loadFbComments(){
	if( $_GET('canonicalurl') === false ) return (false);
	var FB =  doc.getElementById('fb-comments-wrapper');
	FB.setAttribute( 'data-numposts', $_GET('fbnumposts') === false ? 10 : parseFloat( $_GET('fborderby') )  );
	FB.setAttribute( 'data-href', $_GET('canonicalurl') );
	FB.setAttribute( 'data-width', $_GET('fbwidth') === false ? 600 : parseFloat( $_GET('fborderby') )  );
	FB.setAttribute( 'data-order-by', $_GET('fborderby') === false ? 'social' : $_GET('fborderby') );
	
	var appID = $_GET('fbappid') === false ? false : parseFloat( $_GET('fbappid') );
	if( appID === false ) return (false);
	(function(d, s, id, appID) {
		if (typeof(appID) === undefined && appID.length < 15 && typeof(appID) === NaN) return (false);
		var js, fjs = d.getElementsByTagName(s)[0];
		if (d.getElementById(id)) return;
		js = d.createElement(s); js.id = id;
		js.src = '//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.8&appId=' + appID;
		fjs.parentNode.insertBefore(js, fjs);
	}(doc, 'script', 'facebook-jssdk', FB_APP_ID ));	
};
	
var scripts = [];
scripts.push('https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js');

var actions = $_GET('ampactions');
switch ( actions ){
	case 'disqus' : loadDisqus(); break;
	case 'fbcomments' : loadFbComments(); break;
	case 'feed' : 
		loadJs( scripts , 0 , function(){ 
			!function(a){"use strict";function b(a){for(var b,c,d=a.length;0!==d;)c=Math.floor(Math.random()*d),d-=1,b=a[d],a[d]=a[c],a[c]=b;return a}function c(a){var b;if(a.indexOf("<img")===-1&&a.indexOf("<amp-img")===-1)return b=options.default.image;var c=a.indexOf("<img");c===-1&&(c=a.indexOf("<amp-img"));var d=a.indexOf('src="',c),e=a.indexOf('"',d+5),b=a.substring(d+5,e);return b.length||(b=options.default.image),b}a.fn.YahooRSS=function(b,c,e){var f={random:!0,ssl:!1,limit:20,results:3,image:!0,default_image:"//4.bp.blogspot.com/-MowVHfLkoZU/VhgIRyPbIoI/AAAAAAAATtE/qHST4Q2YCCc/s1600/placeholder-image.jpg",labels:!0,date:"ddmmyy",datesep:" ",months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],summary:!0,chars:160,target:"_self",showerror:!0,errormsg:""};return c=a.extend(f,c),this.each(function(f,g){var h="";if(c.ssl&&(h="s"),a(g).hasClass("feed-rss")||a(g).addClass("feed-rss"),null===b)return!1;if(c.limit<=0)return!1;var i="http"+h+"://query.yahooapis.com/v1/public/yql?q="+encodeURIComponent('select * from feed where url="'+b+'"');null!==c.limit&&(i+=" limit "+c.limit),i+="&format=json",a.getJSON(i,function(b,f,h){if("success"===f)d(g,b,c),a.isFunction(e)&&e.call(this,a(g));else if("error"===f||"parsererror"===f){if(!c.showerror)return!1;var i;i=""!==c.errormsg?c.errormsg:h,a(g).html('<div class="feed-rss-error"><p>'+i+"</p></div>")}})})};var d=function(d,e,f){var g=e.query.results.item;if(a.isArray(g)||(g=[g]),!g)return!1;f.random&&b(g);var h=a("<ul/>").attr({class:"feeds"});a.each(g,function(b,d){if(b>f.results-1)return!1;var i,j,k,e=g[b],l=a("<li/>").attr({class:"feed"}),m=a("<div/>").attr({class:"feed-image"}),n=a("<div/>").attr({class:"feed-caption"});if(k=void 0!==e.description?e.description:e.encoded,f.image){var o=a("<img/>").attr("src",c(k));l.append(m.append(o))}if(e.pubDate){var p=new Date(e.pubDate),q=p.getDate().toString(),r=p.getMonth(),s=p.getFullYear(),t=f.datesep,u=f.months;if(a.isArray(u)&&12===u.length)var r=u[p.getMonth()];switch(f.date){case"mmddyy":j=r+""+t+q+t+s;break;case"ddmmyy":j=q+""+t+r+t+s;break;case"yymmdd":j=s+""+t+r+t+q;break;case"yyddmm":j=s+""+t+q+t+r;break;case"localedate":j=p.toLocaleDateString();break;case"localedatetime":j=p.toLocaleDateString()+" "+p.toLocaleTimeString()}}if(void 0!==e.category){for(var b=0;b<e.category.length;b++)i+=e.category[b].content+" ";f.labels&&void 0!==e.category&&l.attr({"data-labels":i})}var v=a("<h4/>").append(a("<a/>").attr({href:e.link,target:f.linktarget}).html(e.title));if(n.append(v),f.date&&j&&n.append(a("<div/>").attr({class:"feed-date"}).html(j)),f.summary||f.chars<=0){var w=/<\S[^>]*>/g;k=k.replace(w,""),k.length>f.chars&&(k=k.substring(0,k.lastIndexOf(" ",f.chars))+" ...");var x=a("<p/>").attr({class:"feed-summary"}).append(k);n.append(x)}l.append(n),l.appendTo(h)}),a(d).append(h)}}(jQuery);	
			loadFeed() 
		}); 
	break;
	default : console.log('Required data values unreachable.');
};
</script>

</body>
</html>
